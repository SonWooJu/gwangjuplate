<!DOCTYPE html>
<html	lang="ko"
         xmlns="http://www.w3.org/1999/xhtml"
         xmlns:th="http://www.thymeleaf.org"
         xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
         layout:decorate="~{layouts/layoutContents.html}">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7889d32beb468dca3fa2da2d86551821&libraries=services"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/list.css">
    <link rel="stylesheet" href="/css2/nav.css">

    <script src="https://kit.fontawesome.com/678d4b3e11.js" crossorigin="anonymous"></script>
<!--    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" >

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
</head>
<body id="bootstrap-overrides">
<div layout:fragment="content">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="/">광주 플레이트</a>
            <div style="display: inline-block; text-align: center;">
                <form action="/searchInput" method="get">
                    <img src="assets/search_ico.ico" style="height:30px; width: 30px; margin-right: 5px;">
                    <input name="searchInput" id="searchInput" type="text" placeholder="지역, 식당 또는 음식" style="width: 300px; height: 33px;">
                </form>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                </ul>

            </div>
        </div>
        <div class="modal fade" id="favorite" aria-hidden="true" aria-labelledby="favoriteLabel" tabindex="-1" data-backdrop="static">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;

                        <button type="button" id = "recent" class="btn btn-light btn-outline-secondary btn-lg recent">최근 본 맛집</button>
                        <!--                            <button type="button" id = "want" class="btn btn-light btn-outline-secondary btn-lg want">가고싶다.</button>-->
                        <button th:if="${session.userId eq null}" id = "ddd1" type="button" class="btn btn-light btn-outline-secondary btn-lg want" data-bs-target="#log1n" data-bs-toggle="modal" data-bs-dismiss="modal" >
                            가고 싶다
                        </button>
                        <button th:if="${session.userId}" id = "want" type="button" class="btn btn-light btn-outline-secondary btn-lg want">
                            가고 싶다
                        </button>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <!--                        가고싶다.-->
                    <div class = "modal-body" id = "Recon">
                        <div class="card">
                            가고싶다 누르면 이게 안떠야 됨 ㅇㅇ
                            <div class="card-body">

                            </div>
                        </div>
                    </div>
                    <div class = "modal-body visually-hidden" id = "wantEat">
                        <div class="card">
                            가고싶다 이거 맞음 ㅇㅇ
                            <div class="card-body">

                            </div>
                        </div>
                    </div>




                    <div class="modal-footer d-grid gap-2 col-4 mx-auto">

                        <button th:if="${session.userId eq null}" id = "ddd" type="button" class="btn btn-outline-danger btn-lg" data-bs-target="#log1n" data-bs-toggle="modal" data-bs-dismiss="modal" >
                            로그인
                        </button>
                        <button th:if="${session.userId}" type="button" class="btn btn-outline-danger btn-lg" onclick="location.href='logout.do'" >
                            로그아웃
                        </button>
                    </div>

                </div>
            </div>
        </div>

        <!--            로그인 모달-->

        <div class="modal fade" id="log1n" aria-hidden="true" aria-labelledby="log1n" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">


                    <form id="log11n" th:action="@{/login_proc}" method="post">
                        <div class="login_info" id="loggw">
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            <p class = "text">로그인</p>
                            <p style="text-align: center">로그인 하면 가고싶은 식당을<br> 저장할 수 있어요</p>
                            <p><label th:for="username">아이디</label></p>
                            <input  type="text" name = "username" class="form-control" placeholder="아이디">
                            <p><label th:for="password">비밀번호</label></p>
                            <input type="password" name="password" class="form-control" placeholder="비밀번호">
                        </div>
                        <button type="submit" id="login">Log in</button>
                        <br>
                        <button id="register" type="button" onclick="location.href='join'">회원 가입</button>
                        <br>
                        <!--    <button id ="kakao" class="btn" id="btn" type="submit"><img class="btn-img" src="js/kakao-l.png" width="100%"></button>-->
                        <button id ="kakao" class="btn" type="submit" onclick="kakaoLogin();"><a href="javascript:void(0)"><img class="btn-img" src="form/kakao-l.png" width="100%"></a></button>
                        <br>

                        <!--    <button id="naver" class="btn" id="btn2" type="submit"><img class="btn-img" src="js/naver.png" width="100%" height="100%"></button>-->
                        <a id="naverIdLogin_loginButton" href="javascript:void(0)">
                            <img class="btn-img naver-img" src="form/naver.png" width="340px" height="50px">
                        </a>

                    </form>
                </div>

            </div>
        </div>

        <a class="btn" data-bs-toggle="modal" href="#favorite" role="button">
            <img src="assets/profile_icon.ico" style="height: 30px;  width: 30px;">
        </a>
        <script>
            $('#ddd').on('click',()=>{
                $('#favorite').modal('hide');
            })
            $('#ddd1').on('click',()=>{
                $('#favorite').modal('hide');
            })
            $('#want').on('click',()=>{
                $('#Recon').addClass('visually-hidden');
                $('#wantEat').removeClass('visually-hidden');
            })
            $('#recent').on('click',()=>{
                $('#wantEat').addClass('visually-hidden');
                $('#Recon').removeClass('visually-hidden');
            })


        </script>


    </nav>

    <!-- header -->
    <header class="header">
        <div class="header_inner">
            <p>123 클릭(조회수) | 2022-11-15(날짜)</p>
            <h1></h1> <!-- 여기에 타이틀 넣음 -->
            <h5></h5>
        </div>
    </header>

    <!-- list -->
    <main class="list_container">
        <div class="inner_container">
            <div class="listCardAppend">
        <!-- 여기에 listCard.html append -->

            </div>
        <!-- more view button -->
        <div class="more_view_wrapper">
            <button class="btn_more_list"><i class="fa-solid fa-chevron-down"></i> 더보기 <i class="fa-solid fa-chevron-down"></i></button>
        </div>
        <!-- share section -->
        <div class="share_restaurant_list">
            <!-- 따라만들기 힘듦 -->
            <button class="btn_copy_link">링크 복사하기</button>
            <button class="btn_share_twitter"><img src="image/twit2.png"></button>
            <button class="btn_share_facebook"><img src="image/facebook.png"></button>
        </div>
        <div class="list_map_text">
            <h4>리스트 지도</h4>
        </div>
        <!-- list map -->
        <div class="list_map">
            <div id="map" style="width:760px;height:400px;"></div>
        </div>
        </div>
    </main>

    <!-- footer -->
    <footer class="footer">
        <div>
            <h1>footer구상</h1>
        </div>
    </footer>
<!-- kakaomap api -->
<script type="text/javascript">
    var container = document.getElementById('map'); //지도를 담을 영역의 DOM 레퍼런스
    var options = { //지도를 생성할 때 필요한 기본 옵션
        center: new kakao.maps.LatLng(33.450701, 126.570667), //지도의 중심좌표.
        level: 3 //지도의 레벨(확대, 축소 정도)
    };

    var map = new kakao.maps.Map(container, options); //지도 생성 및 객체 리턴
</script>
    <script type="module" th:src="${@versionComponent.getVersion('/resources/build/list.bundle.js')}"></script>
</div>
</body>
</html>