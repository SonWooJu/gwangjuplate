<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>

  <link rel="stylesheet" href="formcss/loginform.css">
</head>
<body>
<form>
  <div class="login_info" id="loggw">
    <p class = "text">로그인</p>
    <p style="text-align: center">로그인 하면 가고싶은 식당을<br> 저장할 수 있어요</p>
    <p>아이디</p>
    <input type="text" placeholder="아이디">
    <p>비밀번호</p>
    <input type="password" placeholder="비밀번호">
  </div>
  <button id="login">Log in</button>
  <br>
  <button id="register" type="button" onclick="location.href='join'">회원 가입</button>
  <br>

  <!--    <button id ="kakao" class="btn" id="btn" type="submit"><img class="btn-img" src="js/kakao-l.png" width="100%"></button>-->
  <button id ="kakao" class="btn" type="submit" onclick="kakaoLogin();"><a href="javascript:void(0)"><img class="btn-img" src="form/kakao-l.png" width="100%"></a></button>
  <br>

  <!--    <button id="naver" class="btn" id="btn2" type="submit"><img class="btn-img" src="js/naver.png" width="100%" height="100%"></button>-->
  <a id="naverIdLogin_loginButton" href="javascript:void(0)">
    <img class="btn-img naver-img" src="form/naver.png" width="340px" height="50px">
  </a>

</form>

<!--<ul>-->
<!--    <li onclick="kakaoLogin();">-->
<!--        <a href="javascript:void(0)">-->
<!--            <span>카카오 로그인</span>-->
<!--        </a>-->
<!--    </li>-->
<!--</ul>-->
<!-- 카카오 스크립트 -->

<!-- 네이버 스크립트 -->
<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" charset="utf-8"></script>
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<script>
  Kakao.init('376f278c1d38595a136f7c77e57a759b'); //발급받은 키 중 javascript키를 사용해준다.
  console.log(Kakao.isInitialized()); // sdk초기화여부판단
  //카카오로그인
  function kakaoLogin() {
    Kakao.Auth.login({
      success: function (response) {
        Kakao.API.request({
          url: '/v2/user/me',
          success: function (response) {
            console.log(response)
          },
          fail: function (error) {
            console.log(error)
          },
        })
      },
      fail: function (error) {
        console.log(error)
      },
    })
  }


  var naverLogin = new naver.LoginWithNaverId(
          {
            clientId: "OCfU_bOGBVFnJrZTBQ6j", //내 애플리케이션 정보에 cliendId를 입력해줍니다.
            callbackUrl: "http://localhost:63342/", // 내 애플리케이션 API설정의 Callback URL 을 입력해줍니다.
            isPopup: false,
            callbackHandle: true
          }
  );
  naverLogin.init();
  window.addEventListener('load', function () {
    naverLogin.getLoginStatus(function (status) {
      if (status) {
        var email = naverLogin.user.getEmail(); // 필수로 설정할것을 받아와 아래처럼 조건문을 줍니다.

        console.log(naverLogin.user);

        if (email == undefined || email == null) {
          alert("이메일은 필수정보입니다. 정보제공을 동의해주세요.");
          naverLogin.reprompt();
          return;
        }
      } else {
        console.log("callback 처리에 실패하였습니다.");
      }
    });
  });

</script>
</body>
</html>
